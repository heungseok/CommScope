<html lang="en">
<head>
    <title>CommScope</title>
    <meta charset="UTF-8">


    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./style/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#rightNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="pull-left img-responsive" href="#"><img class="logo" src="img/logo.png"></a>
            <!--<a class="navbar-brand" href="#">CommScope <small>- An Interactive visualization of public opinions from Korean online communities</small></a>-->
            <a class="navbar-brand" href="#">CommScope</a>

        </div>

        <div class="collapse navbar-collapse" id="rightNavbar">
            <ul class="nav navbar-nav navbar-right">
                <li id="about" class="active"><a href="#">About</a></li>
                <li id="PCA" class="active"><a href="#">PCA</a></li>
                <li id="gui_control" class="active"><a href="#">Network Setting</a></li>

            </ul>

        </div>

    </div>

</nav>

<div id="container" style="width:100%; height:100%;">

    <div id="image_wrapper" class="container_fluid" >

        <h3 id="current_network" >

        </h3>

        <div id="candidates_images">
            <div class = "root_wrapper">

                <img class="root_network" type="candidate" src="./img/Button_globe.png" name="Global_candidate"><span style="display:block; margin-left: auto;
            margin-right: auto; text-align: center">Candidates</span></img>
            </div>

            <div class="candidate_container" style="border-style: solid; border-color:grey">

                <img class="network_btn" type="candidate" src="./img/Ahn_cheol.png" name="AhnCheolSoo">
                <img class="network_btn" type="candidate" src="./img/Moon.png" name="MoonJaeIn">
                <img class="network_btn" type="candidate" src="./img/Yoo.png" name="YooSeungMin">
                <img class="network_btn" type="candidate" src="./img/Hong.png" name="HongJoonPyo">

            </div>

        </div>

        <div id="communities_images">
            <div class = "root_wrapper">

                <img class="root_network" type="community" src="./img/Button_globe.png" name="Global_community"><span style="display:block; margin-left: auto;
            margin-right: auto; text-align: center">Communities</span></img>
            </div>


            <div class="community_container">
                <img class="network_btn" type="community" src="./img/일베.png" name="ilbe">
                <img class="network_btn" type="community" src="./img/디씨2.png" name="dc">
                <img class="network_btn" type="community" src="./img/엠팍.png" name="mp">
                <img class="network_btn" type="community" src="./img/오유.png" name="ou">
            </div>
        </div>


    </div>

    <div class="dropdown">
        <button id="neighborsBtn" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
            <span class="text"> Neighbors</span>
            <span class="caret"></span>
        </button>
        <ul id="neighborsList" class="dropdown-menu">

        </ul>
    </div>

    <script src="./js/bundle.js"></script>

</div>


<div class="timeLineWrapper">

    <ul id="timeLine">

        <li class="time" value="0317-0323" name="March 4"></li>
        <li class="time" value="0324-0330" name="March 5"></li>
        <li class="time" value="0331-0406" name="April 1"></li>
        <li class="time" value="0407-0413" name="April 2"></li>
        <li class="time" value="0414-0420" name="April 3"></li>
        <li class="time" value="0421-0427" name="April 4"></li>
        <li class="time" value="0428-0504" name="May 1"></li>
        <li class="time" value="0505-0511" name="May 2"></li>

    </ul>
    <img id="checked" src="img/checked.png">
</div>

<!-- PCA Anaylsis -->

<div id="PCA-analysis" class="modal">
    <!-- about Modal content -->
    <div class="modal-content pca">
        <div class="modal-header">
            <span id="pca-close" class="close">&times;</span>
            <h3>Analysis</h3>
        </div>
        <div class="modal-body">

            <section>
                <h4>Methodology</h4>
                <p> Principal component analysis (PCA) is a statistical procedure that uses an orthogonal transformation to convert a set of observations of possibly correlated variables into a set of values of linearly uncorrelated variables called principal components (or sometimes, principal modes of variation). The number of principal components is less than or equal to the smaller of the number of original variables or the number of observations. This transformation is defined in such a way that the first principal component has the largest possible variance (that is, accounts for as much of the variability in the data as possible), and each succeeding component in turn has the highest variance possible under the constraint that it is orthogonal to the preceding components. The resulting vectors are an uncorrelated orthogonal basis set. PCA is sensitive to the relative scaling of the original variables.

                    PCA was invented in 1901 by Karl Pearson,[1] as an analogue of the principal axis theorem in mechanics; it was later independently developed and named by Harold Hotelling in the 1930s.[2] Depending on the field of application, it is also named the discrete Kosambi-Karhunen–Loève transform (KLT) in signal processing, the Hotelling transform in multivariate quality control, proper orthogonal decomposition (POD) in mechanical engineering, singular value decomposition (SVD) of X (Golub and Van Loan, 1983), eigenvalue decomposition (EVD) of XTX in linear algebra, factor analysis (for a discussion of the differences between PCA and factor analysis see Ch. 7 of [3]), Eckart–Young theorem (Harman, 1960), or Schmidt–Mirsky theorem in psychometrics, empirical orthogonal functions (EOF) in meteorological science, empirical eigenfunction decomposition (Sirovich, 1987), empirical component analysis (Lorenz, 1956), quasiharmonic modes (Brooks et al., 1988), spectral decomposition in noise and vibration, and empirical modal analysis in structural dynamics.

                    PCA is mostly used as a tool in exploratory data analysis and for making predictive models. PCA can be done by eigenvalue decomposition of a data covariance (or correlation) matrix or singular value decomposition of a data matrix, usually after mean centering (and normalizing or using Z-scores) the data matrix for each attribute.[4] The results of a PCA are usually discussed in terms of component scores, sometimes called factor scores (the transformed variable values corresponding to a particular data point), and loadings (the weight by which each standardized original variable should be multiplied to get the component score).[5]

                    PCA is the simplest of the true eigenvector-based multivariate analyses. Often, its operation can be thought of as revealing the internal structure of the data in a way that best explains the variance in the data. If a multivariate dataset is visualised as a set of coordinates in a high-dimensional data space (1 axis per variable), PCA can supply the user with a lower-dimensional picture, a projection of this object when viewed from its most informative viewpoint. This is done by using only the first few principal components so that the dimensionality of the transformed data is reduced.

                    PCA is closely related to factor analysis. Factor analysis typically incorporates more domain specific assumptions about the underlying structure and solves eigenvectors of a slightly different matrix.

                    <a href="https://en.wikipedia.org/wiki/Principal_component_analysis">https://en.wikipedia.org/wiki/Principal_component_analysis</a>
                </p>
            </section>

            <section>
                <h4>PCA</h4>

                <div class="pca-wrapper" style="text-align: center">
                    <span>
                        - 0317-0323 (example) <br><br>
                        <img class="pca-image" src="img/PCA/0317-0323.png" style="float:none">

                    </span>

                </div>


            </section>


        </div>


    </div>

</div>




<!-- Modals -->
<div id="aboutModal" class="modal">
    <!-- about Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <span id="about-close" class="close">&times;</span>
            <h3>About</h3>
        </div>
        <div class="modal-body">

            <section>
                <h4>CommScope</h4>
                <p> CommScope is an interactive visualization of the representation of public opinions from Korean Online Communities (KOC).
                    The main visualization method is a node-link diagram.
                </p>
            </section>

            <section>
                <h4> How to use</h4>

                <h5> <b>- Basic Instructions</b></h5>
                <p>As this network visualization is built in 3D, you can zoom in/out using your touchpad or mouse wheel. You can also rotate the network
                    by clicking and dragging the mouse.
                </p>

                <h5> <b>- Switching Network </b></h5>
                <p>You can change the network for each candidate, community, candidate and community in the left panel. The current network state is on the top-left side.
                </p>
                <p>
                    The default root is set as presidential candidates. For each presidential candidate, you can see the relevant keyword network in each online community by clicking on the candidate image.
                    Once the specific candidate is activated, you can click on a specific online community on the right side of the active candidate image. Then the relevant keyword network of the currently active
                    candidate within the community is shown up.</br></p>
                <p>
                    If you switch the root from candidates to online community by clicking the globe button named as 'communities', you can operate the above sequence equally.
                    If root is set as online community, you can see the keyword network for each of the four presidential candidates for each community. You can also click on a specific candidate
                    to see the keyword network for a particular candidate within the active online community.</br>
                </p>

                <h5> <b>- Network Settings </b></h5>
                <p>In this settings, you can modified the layout options of network. There may be some legs for working the network layout. If you see a network
                    which looks a tangled hair, you can resume the layout. Moreover, you can set your own network settings by setting the length of the links,
                    gravity, theta, drag coefficient, and time steps.
                </p>
            </section>


            <section>
                <h4>Development</h4>
                <p>Powered by Three.js, Tween.js, Bootstrap, jQuery, ngraph</p>
            </section>

            <section>
                <h4>Feedback</h4>
                <p>heungseok2 at gmail.com / kaist.ac.kr</p>
            </section>

        </div>
        <div class="modal-footer">
            <p>Developed & Designed by Heungseok Park. &copy; 2017 All rights reserved. </p>
        </div>
    </div>

</div>


<script>



    // get the PCA-analysis modal
    var pca_modal = document.getElementById("PCA-analysis");

    // get the button that opens the modal
    var pca_btn = document.getElementById("PCA");

    // get the <span> element that cloases the modal;
    var pca_span = document.getElementById("pca-close");

    // When the user clicks the button, open the modal
    pca_btn.onclick = function () {
        if(pca_modal.style.display== "block")
            pca_modal.style.display = "none";
        else
            pca_modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    pca_span.onclick = function () {
        pca_modal.style.display = "none";
    }


    // get the modal
    var modal = document.getElementById("aboutModal");

    // get the button that opens the modal
    var btn = document.getElementById("about");

    // get the <span> element that cloases the modal;
    var span = document.getElementById("about-close");

    // When the user clicks the button, open the modal
    btn.onclick = function () {
        if(modal.style.display== "block")
            modal.style.display = "none";
        else
            modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
//        if(event.target == pca_modal){
//            pca_modal.style.display = "none";
//        }

        if(event.target == modal){
            modal.style.display = "none";
        }
    }


    $(document).ready(function () {
        console.log(document.getElementsByClassName("time")[0].getBoundingClientRect().top);
        var init_time = document.getElementsByClassName("time")[0].getBoundingClientRect();
        var top = init_time.top;
        var left = init_time.left;
        var doc_width = window.innerWidth;
        var doc_height = window.innerHeight;

        top = top*100/doc_height - 5;
        left = left*100/doc_width;

        $("#checked").css({
            'top': top + "vh",
            'left': left + "vw"
        });

    })


    $('.dropdown').on({
        "shown.bs.dropdown": function() { this.closable = false; },
        "hide.bs.dropdown":  function() { return this.closable; }
    });



</script>

<!--

<div id="keyboards">
    <img class="keys" src="./img/WASDQE_keyboard.png">
</div>

-->
</body>
</html>